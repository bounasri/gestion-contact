<span class="ui-float-label">
    <input class="space" [(ngModel)]="user.nom" type="text" size="30" pInputText
           required #nom="ngModel">
    <label>Nom</label>
  <p-message severity="error" *ngIf="nom.invalid && (nom.touched || nom.dirty)"
              [text]="nom.errors['required']? 'Nom réquis': ''"></p-message>
</span>

<span class="ui-float-label">
    <input class="space" [(ngModel)]="user.prenom" type="text" size="30" pInputText
           required #prenom="ngModel">
    <label>Prénom</label>
    <p-message severity="error" *ngIf="prenom.invalid && (prenom.touched || prenom.dirty)"
               [text]="prenom.errors['required']? 'Prénom réquis': ''"></p-message>
</span>


<span class="ui-float-label">
    <input class="space" pKeyFilter="email" [(ngModel)]="user.email" type="text" size="30" pInputText
           email required #email="ngModel">
    <label>Email</label>

   <p-message severity="error" *ngIf="email.invalid && (email.touched || email.dirty)"
              [text]="email.errors['required']? 'Email réquis':
              email.errors['email']? 'Email invalid': ''"></p-message>
</span>


<span class="ui-float-label">
    <input class="space" [(ngModel)]="user.username" type="text" size="30" pInputText
           required #username="ngModel">
    <label>Nom d'utilisateur</label>
   <p-message severity="error" *ngIf="username.invalid && (username.touched || username.dirty)"
              [text]="username.errors['required']? 'Nom utilisateur réquis': ''"></p-message>
</span>

<div [hidden]="!visible">
<span class="ui-float-label" >
    <input  class="space" [(ngModel)]="user.password" type="password" size="30" pPassword
           required #pwd1="ngModel">
    <label>Mot de passe</label>
</span>
</div>
<div [hidden]="!visible">
<span class="ui-float-label" >
    <input  class="space" [(ngModel)]="confirmPwd" type="password" size="30" pPassword
           pattern="{{pwd1.value}}"
           required #pwd2="ngModel">
    <label>Confirmer Mot de passe</label>

   <p-message severity="error" *ngIf="pwd2.invalid && (pwd2.touched || pwd2.dirty)"
              [text]="pwd2.errors['required']? 'Confirm Password réquis':
              pwd2.errors['pattern']? 'Les mots de passe ne sont pas identiques': ''"></p-message>
</span>
</div>

<p-dropdown placeholder="Selectionner role"
            [(ngModel)]="selectedRole"
            [options]="roles" optionLabel="role" ></p-dropdown>
<br>
<br>
<button *ngIf="visible" class="ui-button-success" pButton label="Ajouter" (click)="ajouter()"
[disabled]="nom.invalid || prenom.invalid || email.invalid || username.invalid ||
 pwd1.invalid || pwd2.invalid"></button>


<button *ngIf="!visible" class="ui-button-warning" pButton label="Modifier" (click)="modifier()"
        [disabled]="nom.invalid || prenom.invalid || email.invalid || username.invalid"></button>
